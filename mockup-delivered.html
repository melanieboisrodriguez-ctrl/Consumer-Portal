<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portail Consommateur - Livr√©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f8f9fa;
            color: #1a1a1a;
            line-height: 1.5;
            font-size: 14px;
        }

        .header {
            background-color: white;
            padding: 10px 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            border-bottom: 1px solid #e5e7eb;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        @media (min-width: 375px) {
            .header {
                padding: 12px 16px;
            }
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-icon {
            width: 24px;
            height: 24px;
            color: #00b4a6;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-img {
            height: 32px;
            width: auto;
            object-fit: contain;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 0;
        }

        .header-separator {
            width: 1px;
            height: 20px;
            background-color: #e0e0e0;
            margin: 0 12px;
        }

        .lang-selector {
            color: #1a1a1a;
            font-weight: 600;
            cursor: pointer;
            font-size: 13px;
            padding: 0 8px;
            letter-spacing: 0.01em;
        }

        .icon-btn {
            background: none;
            border: none;
            font-size: 20px;
            color: #4b5563;
            cursor: pointer;
            padding: 4px 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.2s;
        }

        .icon-btn:hover {
            color: #1a1a1a;
        }

        .container {
            max-width: 100%;
            width: 100%;
            margin: 0;
            padding: 12px;
        }

        @media (min-width: 375px) {
            .container {
                padding: 16px;
            }
        }

        @media (min-width: 414px) {
            .container {
                max-width: 414px;
                margin: 0 auto;
            }
        }

        .title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 16px;
            line-height: 1.3;
        }

        @media (min-width: 375px) {
            .title {
                font-size: 22px;
                margin-bottom: 18px;
            }
        }

        @media (min-width: 414px) {
            .title {
                font-size: 24px;
                margin-bottom: 20px;
            }
        }

        .card {
            background-color: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            border: 1px solid #e5e7eb;
        }

        @media (min-width: 375px) {
            .card {
                padding: 18px;
                margin-bottom: 14px;
            }
        }

        @media (min-width: 414px) {
            .card {
                padding: 20px;
                margin-bottom: 16px;
            }
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .card-icon {
            width: 20px;
            height: 20px;
            color: #00b4a6;
            flex-shrink: 0;
        }

        .card-title {
            color: #00b4a6;
            font-weight: 600;
            font-size: 15px;
            letter-spacing: -0.01em;
        }

        .tracking-number-section {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .tracking-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #00b4a6;
        }

        .tracking-value {
            font-size: 17px;
            font-weight: 700;
            color: #1a1a1a;
            margin-top: 4px;
            letter-spacing: -0.01em;
        }

        /* Compact tracking number in header area */
        .compact-tracking {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #e5e7eb;
            font-size: 12px;
            color: #6b7280;
        }

        .compact-tracking-icon {
            width: 14px;
            height: 14px;
            color: #9ca3af;
            flex-shrink: 0;
        }

        .compact-tracking-label {
            font-size: 11px;
            font-weight: 500;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .compact-tracking-value {
            font-size: 12px;
            font-weight: 600;
            color: #4b5563;
            letter-spacing: 0.02em;
        }

        /* Brown Shoes Logo */
        .brown-shoes-logo {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #e5e7eb;
        }

        .brown-shoes-logo img {
            max-height: 40px;
            width: auto;
            object-fit: contain;
        }

        .brown-shoes-logo-text {
            font-weight: 600;
            color: #4b5563;
            font-size: 16px;
        }

        .brown-shoes-logo-icon {
            width: 32px;
            height: 32px;
            background-color: #000000;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: bold;
            font-family: serif;
        }

        .delivery-time {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding-top: 0;
            border-top: none;
        }

        .delivery-time svg {
            width: 24px;
            height: 24px;
            color: #00b4a6;
            margin-top: 2px;
            flex-shrink: 0;
        }

        .delivery-info {
            flex: 1;
        }

        .delivery-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #00b4a6;
            margin-bottom: 6px;
        }

        .delivery-date {
            font-size: 15px;
            font-weight: 600;
            color: #4b5563;
            margin-bottom: 6px;
            letter-spacing: -0.01em;
        }

        .delivery-hour {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            line-height: 1.2;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .delivery-hour-range {
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            margin-top: 4px;
        }

        .status-badge {
            background-color: #00b4a6;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            margin-left: auto;
        }

        .progress-bar-wrapper {
            position: relative;
            margin-bottom: 10px;
        }

        .progress-bar-card {
            padding: 8px 12px;
        }

        @media (min-width: 375px) {
            .progress-bar-card {
                padding: 10px 14px;
            }
        }

        @media (min-width: 414px) {
            .progress-bar-card {
                padding: 10px 16px;
            }
        }

        .progress-step-label {
            margin-top: 4px;
            font-size: 9px;
            font-weight: 600;
            text-align: center;
            color: #374151;
            max-width: 80px;
            letter-spacing: -0.01em;
        }

        .progress-bar-bg {
            position: absolute;
            top: 14px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e5e7eb;
            border-radius: 1px;
        }

        .progress-bar-fill {
            height: 100%;
            background: #00b4a6;
            border-radius: 1px;
            transition: width 0.5s ease;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            position: relative;
            z-index: 2;
        }

        .progress-step-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #00b4a6;
            color: white;
            border: 2px solid #00b4a6;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .progress-step.completed .progress-step-icon {
            background: #00b4a6;
            animation: icon-complete 0.5s ease;
        }

        .progress-step.active .progress-step-icon {
            background: #00b4a6;
            animation: icon-pulse 2s ease-in-out infinite;
        }

        .progress-step.pending .progress-step-icon {
            background: white;
            color: #9ca3af;
            border-color: #e5e7eb;
        }

        @keyframes icon-complete {
            0% { transform: scale(0.8); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        @keyframes icon-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Chat button */
        .chat-button {
            position: fixed;
            bottom: 20px;
            right: 16px;
            width: 56px;
            height: 56px;
            background: #00b4a6;
            color: white;
            border: none;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 180, 166, 0.3), 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 1000;
            touch-action: manipulation;
        }

        @media (min-width: 375px) {
            .chat-button {
                bottom: 24px;
                right: 20px;
            }
        }

        @media (min-width: 414px) {
            .chat-button {
                bottom: 24px;
                right: 24px;
            }
        }

        .chat-button:hover {
            background: #009688;
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(0, 180, 166, 0.4), 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .chat-button:active {
            transform: scale(0.95);
        }

        .chat-button svg {
            width: 24px;
            height: 24px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .info-item {
            flex: 1;
        }

        .info-label {
            color: #999;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .info-value {
            color: #333;
            font-size: 16px;
            font-weight: 500;
        }

        .address-text {
            color: #1a1a1a;
            font-size: 14px;
            margin-top: 8px;
            line-height: 1.6;
            letter-spacing: -0.01em;
        }

        .address-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-top: 10px;
        }

        .badge-residential {
            background-color: #e0f7f5;
            color: #00b4a6;
        }

        .badge-business {
            background-color: #e3f2fd;
            color: #2196f3;
        }

        .map-container {
            width: 100%;
            height: 200px;
            background-color: #e8e8e8;
            border-radius: 8px;
            margin-top: 15px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
        }

        .map-pin {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: #00b4a6;
            border-radius: 50% 50% 50% 0;
            transform: rotate(-45deg);
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .map-pin::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: white;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
        }

        .animated-status {
            color: white;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 16px;
            text-align: center;
            animation: celebration-glow 2s ease-in-out infinite;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(5, 150, 105, 0.25);
            transition: all 0.5s ease;
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
        }

        @media (min-width: 375px) {
            .animated-status {
                padding: 14px;
                margin-bottom: 18px;
            }
        }

        @media (min-width: 414px) {
            .animated-status {
                padding: 16px;
                margin-bottom: 20px;
            }
        }

        .animated-status::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer-sweep 3s infinite;
        }

        @keyframes shimmer-sweep {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        @keyframes celebration-glow {
            0%, 100% { 
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 10px 20px rgba(5, 150, 105, 0.4);
                transform: scale(1.02);
            }
        }

        .status-animation {
            font-size: 36px;
            margin-bottom: 10px;
            animation: emoji-bounce 2s ease-in-out infinite;
            position: relative;
            z-index: 1;
        }

        @keyframes emoji-bounce {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(5deg); }
        }

        .status-text {
            color: white;
            font-weight: 600;
            font-size: 16px;
            line-height: 1.5;
            position: relative;
            z-index: 1;
            letter-spacing: -0.01em;
        }

        .success-message {
            color: #155724;
            font-size: 16px;
            font-weight: 500;
        }

        .pod-photo {
            width: 100%;
            border-radius: 12px;
            margin-top: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: transform 0.2s;
        }

        .pod-photo:hover {
            transform: scale(1.02);
        }

        .pod-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #e8e8e8 0%, #d0d0d0 100%);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #999;
            margin-top: 15px;
        }

        .pod-placeholder-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        /* Photo Carousel Styles */
        .photo-carousel {
            position: relative;
            width: 100%;
            margin-top: 15px;
            border-radius: 12px;
            overflow: hidden;
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 300px;
            overflow: hidden;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.4s ease-in-out;
            height: 100%;
        }

        .carousel-slide {
            min-width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #e8e8e8 0%, #d0d0d0 100%);
            position: relative;
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
        }

        .carousel-slide-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #666;
            padding: 20px;
            text-align: center;
        }

        .carousel-slide-placeholder-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            transition: all 0.2s ease;
            font-size: 18px;
            color: #1a1a1a;
        }

        .carousel-nav:hover {
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .carousel-nav.prev {
            left: 10px;
        }

        .carousel-nav.next {
            right: 10px;
        }

        .carousel-nav:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
            padding: 0 10px;
        }

        .carousel-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #d1d5db;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 0;
        }

        .carousel-indicator.active {
            background: #00b4a6;
            width: 24px;
            border-radius: 4px;
        }

        .carousel-counter {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            z-index: 10;
        }

        .delivery-timestamp {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            text-align: center;
        }

        .timestamp-label {
            color: #999;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .timestamp-value {
            color: #333;
            font-size: 18px;
            font-weight: 600;
        }

        .instructions-display {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .instructions-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .instructions-item:last-child {
            border-bottom: none;
        }

        .instructions-label {
            color: #999;
            font-size: 13px;
        }

        .instructions-value {
            color: #333;
            font-size: 14px;
            font-weight: 500;
        }

        .masked-value {
            color: #999;
            font-family: monospace;
            letter-spacing: 2px;
        }

        .comparison-box {
            background-color: white;
            padding: 20px;
            border-radius: 12px;
            margin-top: 15px;
        }

        .comparison-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .comparison-row:last-child {
            border-bottom: none;
        }

        .comparison-label {
            color: #999;
            font-size: 13px;
        }

        .comparison-value {
            color: #333;
            font-size: 14px;
            font-weight: 500;
        }

        .accuracy-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            margin-left: 8px;
        }

        .confidence-explanation {
            position: relative;
            display: inline-flex;
            align-items: center;
            margin-left: 6px;
        }

        .confidence-info-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #6b7280;
            color: white;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            cursor: help;
            transition: background-color 0.2s ease;
        }

        .confidence-info-icon:hover {
            background-color: #4b5563;
        }

        .confidence-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 8px;
            padding: 10px 12px;
            background-color: #1f2937;
            color: white;
            border-radius: 6px;
            font-size: 12px;
            line-height: 1.4;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            pointer-events: none;
        }

        .confidence-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: #1f2937;
        }

        .confidence-explanation:hover .confidence-tooltip {
            opacity: 1;
            visibility: visible;
        }

        .accuracy-high {
            background-color: #d4edda;
            color: #155724;
        }

        .btn-primary {
            width: 100%;
            background-color: #00b4a6;
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            transition: background-color 0.2s;
        }

        .btn-primary:hover {
            background-color: #009688;
        }

        .btn-secondary {
            background-color: white;
            color: #00b4a6;
            border: 2px solid #00b4a6;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.2s;
            width: 100%;
        }

        .btn-secondary:hover {
            background-color: #00b4a6;
            color: white;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            margin-top: 15px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #00b4a6;
        }

        .checkbox-label {
            color: #333;
            font-size: 14px;
        }

        .instructions-saved-message {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 15px;
            background-color: #d1fae5;
            border-left: 4px solid #10b981;
            border-radius: 8px;
            margin-top: 15px;
            color: #065f46;
            font-size: 14px;
            font-weight: 500;
        }

        .instructions-saved-message .check-icon {
            color: #10b981;
            font-size: 18px;
            font-weight: bold;
        }

        .future-delivery-cta {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e5e7eb;
        }

        .future-delivery-cta-title {
            font-size: 13px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 10px;
        }

        .btn-future {
            width: 100%;
            padding: 10px 16px;
            background-color: white;
            border: 2px solid #00b4a6;
            color: #00b4a6;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-future:hover {
            background-color: #00b4a6;
            color: white;
        }

        .btn-future svg {
            width: 18px;
            height: 18px;
        }

        /* Confetti Styles */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f59e0b;
            animation: confetti-fall linear forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) translateX(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100vh + 100px)) translateX(var(--drift)) rotate(720deg);
                opacity: 0;
            }
        }

        /* Confetti shapes variation */
        .confetti.triangle {
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 8px solid;
            background-color: transparent !important;
        }

        .confetti.circle {
            border-radius: 50%;
        }

        .confetti.rectangle {
            width: 8px;
            height: 12px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <div class="logo-icon">
                <svg fill="currentColor" viewBox="0 0 20 20" style="width: 24px; height: 24px;">
                    <path d="M10 2L3 7v11h4v-6h6v6h4V7l-7-5z"/>
                </svg>
            </div>
        </div>
        <div class="header-right">
            <span class="lang-selector">FR</span>
            <div class="header-separator"></div>
            <button class="icon-btn">üîç</button>
            <div class="header-separator"></div>
            <button class="icon-btn">üîî</button>
            <div class="header-separator"></div>
            <button class="icon-btn">‚ò∞</button>
        </div>
    </div>

    <div class="container">
        <!-- Compact Tracking Number -->
        <div class="compact-tracking">
            <svg class="compact-tracking-icon" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 2L3 7v11h4v-6h6v6h4V7l-7-5z"/>
            </svg>
            <span class="compact-tracking-label">N¬∞ de suivi:</span>
            <span class="compact-tracking-value">TESTINSTR202406</span>
        </div>

        <!-- Brown Shoes Logo -->
        <div class="brown-shoes-logo">
            <div class="brown-shoes-logo-icon">B</div>
            <div class="brown-shoes-logo-text">Brown Shoes</div>
        </div>

        <!-- Animated Status -->
        <div class="animated-status">
            <div class="status-animation">üéâ</div>
            <div class="status-text">
                <div style="line-height: 1.2;">C'est dans la bo√Æte !</div>
                <div style="font-size: 12px; color: rgba(255,255,255,0.9); font-weight: 400; margin-top: 6px;">Livraison r√©ussie, profite bien !</div>
            </div>
        </div>

        <!-- Progress Bar Card -->
        <div class="card progress-bar-card">
            <div class="progress-bar-wrapper">
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" style="width: 100%;"></div>
                </div>
                <div class="progress-steps">
                    <div class="progress-step completed">
                        <div class="progress-step-icon">‚úì</div>
                        <div class="progress-step-label">Planifi√©e</div>
                    </div>
                    <div class="progress-step completed">
                        <div class="progress-step-icon">‚úì</div>
                        <div class="progress-step-label">En route</div>
                    </div>
                    <div class="progress-step completed">
                        <div class="progress-step-icon">‚úì</div>
                        <div class="progress-step-label">Arrive bient√¥t</div>
                    </div>
                    <div class="progress-step completed">
                        <div class="progress-step-icon">‚úì</div>
                        <div class="progress-step-label">Livr√©e</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Delivery Time Card -->
        <div class="card" style="padding: 12px 16px;">
            <!-- Delivery Timestamp -->
            <div class="delivery-time">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <div class="delivery-info">
                    <div class="delivery-label">Livr√© le</div>
                    <div class="delivery-date">17 mars 2024</div>
                    <div class="delivery-hour">11h45</div>
                    <div style="margin-top: 10px; text-align: center;">
                        <a href="{{SURVEY_URL}}" style="color: #00b4a6; font-size: 14px; text-decoration: underline; transition: color 0.2s ease;">√âvaluez votre livraison</a>
                    </div>
                </div>
            </div>
        </div>


        <!-- Proof of Delivery Photo Carousel -->
        <div class="card">
            <div class="card-header">
                <svg class="card-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M4 3a2 2 0 100 4h12a2 2 0 100-4H4zm0 4v10a2 2 0 002 2h8a2 2 0 002-2V7H4zm6 4a1 1 0 10-2 0v2H6a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"/>
                </svg>
                <span class="card-title">Preuve de livraison</span>
            </div>
            <div class="photo-carousel">
                <div class="carousel-container">
                    <div class="carousel-track" id="carouselTrack">
                        <!-- Slide 1 -->
                        <div class="carousel-slide">
                            <div class="carousel-slide-placeholder">
                                <div class="carousel-slide-placeholder-icon">üì∑</div>
                                <div style="font-size: 14px; font-weight: 500;">Photo 1 - Colis livr√© √† la porte d'entr√©e</div>
                                <div style="font-size: 12px; margin-top: 5px; color: #999;">Cliquez pour voir en taille r√©elle</div>
                            </div>
                        </div>
                        <!-- Slide 2 -->
                        <div class="carousel-slide">
                            <div class="carousel-slide-placeholder">
                                <div class="carousel-slide-placeholder-icon">üì¶</div>
                                <div style="font-size: 14px; font-weight: 500;">Photo 2 - Emplacement de d√©p√¥t</div>
                                <div style="font-size: 12px; margin-top: 5px; color: #999;">Cliquez pour voir en taille r√©elle</div>
                            </div>
                        </div>
                        <!-- Slide 3 -->
                        <div class="carousel-slide">
                            <div class="carousel-slide-placeholder">
                                <div class="carousel-slide-placeholder-icon">‚úÖ</div>
                                <div style="font-size: 14px; font-weight: 500;">Photo 3 - Confirmation de livraison</div>
                                <div style="font-size: 12px; margin-top: 5px; color: #999;">Cliquez pour voir en taille r√©elle</div>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-nav prev" id="carouselPrev" aria-label="Photo pr√©c√©dente">‚Äπ</button>
                    <button class="carousel-nav next" id="carouselNext" aria-label="Photo suivante">‚Ä∫</button>
                    <div class="carousel-counter">
                        <span id="carouselCurrent">1</span> / <span id="carouselTotal">3</span>
                    </div>
                </div>
                <div class="carousel-indicators" id="carouselIndicators">
                    <button class="carousel-indicator active" data-slide="0" aria-label="Aller √† la photo 1"></button>
                    <button class="carousel-indicator" data-slide="1" aria-label="Aller √† la photo 2"></button>
                    <button class="carousel-indicator" data-slide="2" aria-label="Aller √† la photo 3"></button>
                </div>
            </div>
        </div>

        <!-- Delivery Address Confirmation -->
        <div class="card">
            <div class="card-header">
                <svg class="card-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 2C6.48 2 3.5 4.98 3.5 8.5c0 4.78 5.36 9.21 6.5 10.5 1.14-1.29 6.5-5.72 6.5-10.5C16.5 4.98 13.52 2 10 2zm0 11.5c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>
                </svg>
                <span class="card-title">Adresse de livraison</span>
            </div>
            <div class="address-text">
                123 Main Street. Apt 202<br>
                Montr√©al, QC, H2W 3R6
            </div>
            <span class="address-badge badge-residential">R√©sidentiel</span>
            
            <!-- Final Delivery Location Map -->
            <div class="map-container">
                <div class="map-pin"></div>
                <div style="position: absolute; bottom: 10px; color: #666; font-size: 12px;">
                    Emplacement final de livraison
                </div>
            </div>

            <!-- CTA for Future Deliveries -->
            <div class="future-delivery-cta">
                <div class="future-delivery-cta-title">Pour les prochaines livraisons</div>
                <button class="btn-future" onclick="alert('Modification de l\'emplacement pour les prochaines livraisons...')">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    Modifier l'emplacement
                </button>
            </div>
        </div>

        <!-- Delivery Instructions Used -->
        <div class="card">
            <div class="card-header">
                <svg class="card-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10z"/>
                </svg>
                <span class="card-title">Instructions de livraison utilis√©es</span>
            </div>

            <div class="instructions-display">
                <div class="instructions-item">
                    <span class="instructions-label">Type d'adresse</span>
                    <span class="instructions-value">R√©sidentiel</span>
                </div>
                <div class="instructions-item">
                    <span class="instructions-label">Emplacement de d√©p√¥t</span>
                    <span class="instructions-value">Porte d'entr√©e</span>
                </div>
                <div class="instructions-item">
                    <span class="instructions-label">Code d'entr√©e</span>
                    <span class="instructions-value masked-value">‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                </div>
                <div class="instructions-item">
                    <span class="instructions-label">Code d'interphone</span>
                    <span class="instructions-value masked-value">‚Ä¢‚Ä¢‚Ä¢</span>
                </div>
                <div class="instructions-item">
                    <span class="instructions-label">Instructions sp√©ciales</span>
                    <span class="instructions-value">Laisser √† la porte si pas de r√©ponse</span>
                </div>
            </div>

            <!-- Instructions Saved Message -->
            <div class="instructions-saved-message">
                <span class="check-icon">‚úì</span>
                <span>Instructions enregistr√©es pour livraisons futures</span>
            </div>

            <!-- Modify Instructions Button -->
            <button class="btn-future" style="margin-top: 15px;" onclick="alert('Modification des instructions pour la prochaine livraison...')">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                </svg>
                Modifier les instructions
            </button>
        </div>

        <!-- Appointment Time Comparison -->
        <div class="card">
            <div class="card-header">
                <svg class="card-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"/>
                </svg>
                <span class="card-title">Indicateur de succ√®s de livraison</span>
            </div>

            <div class="comparison-box">
                <div class="comparison-row">
                    <span class="comparison-label">Fen√™tre planifi√©e</span>
                    <span class="comparison-value">11h27 - 15h27</span>
                </div>
                <div class="comparison-row">
                    <span class="comparison-label">Livraison r√©elle</span>
                    <span class="comparison-value">11h45</span>
                </div>
                <div class="comparison-row">
                    <span class="comparison-label">Pr√©cision</span>
                    <span class="comparison-value">
                        √Ä l'heure
                        <span class="accuracy-badge accuracy-high">Confiance √©lev√©e</span>
                        <div class="confidence-explanation">
                            <span class="confidence-info-icon">i</span>
                            <div class="confidence-tooltip">Le niveau de confiance indique la pr√©cision estim√©e de l'heure de livraison bas√©e sur les donn√©es historiques et les conditions actuelles.</div>
                        </div>
                    </span>
                </div>
            </div>
        </div>

        <!-- Share Confirmation Button -->
        <button class="btn-secondary">
            üì§ Partager la confirmation de livraison
        </button>
    </div>

    <script>
        // Photo Carousel Functionality
        (function() {
            const track = document.getElementById('carouselTrack');
            const prevBtn = document.getElementById('carouselPrev');
            const nextBtn = document.getElementById('carouselNext');
            const indicators = document.querySelectorAll('.carousel-indicator');
            const currentSpan = document.getElementById('carouselCurrent');
            const totalSpan = document.getElementById('carouselTotal');
            
            let currentSlide = 0;
            const totalSlides = indicators.length;
            totalSpan.textContent = totalSlides;
            
            function updateCarousel() {
                track.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // Update indicators
                indicators.forEach((indicator, index) => {
                    if (index === currentSlide) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
                
                // Update counter
                currentSpan.textContent = currentSlide + 1;
                
                // Update navigation buttons
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
            }
            
            function goToSlide(slideIndex) {
                if (slideIndex >= 0 && slideIndex < totalSlides) {
                    currentSlide = slideIndex;
                    updateCarousel();
                }
            }
            
            function nextSlide() {
                if (currentSlide < totalSlides - 1) {
                    currentSlide++;
                    updateCarousel();
                }
            }
            
            function prevSlide() {
                if (currentSlide > 0) {
                    currentSlide--;
                    updateCarousel();
                }
            }
            
            // Event listeners
            nextBtn.addEventListener('click', nextSlide);
            prevBtn.addEventListener('click', prevSlide);
            
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => goToSlide(index));
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') prevSlide();
                if (e.key === 'ArrowRight') nextSlide();
            });
            
            // Touch/swipe support
            let touchStartX = 0;
            let touchEndX = 0;
            
            track.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            track.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                }
            }
            
            // Click on slide to view full-size
            document.querySelectorAll('.carousel-slide').forEach(slide => {
                slide.addEventListener('click', function() {
                    alert('Ouverture de la photo en taille r√©elle...');
                });
            });
            
            // Initialize
            updateCarousel();
        })();
    </script>

    <!-- Chat Button -->
    <button class="chat-button" aria-label="Ouvrir le chat">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
        </svg>
    </button>

    <!-- Confetti Container -->
    <div class="confetti-container" id="confettiContainer"></div>

    <script>
        // Confetti Animation
        (function() {
            function createConfetti() {
                const container = document.getElementById('confettiContainer');
                const colors = ['#f59e0b', '#00b4a6', '#fbbf24', '#10b981', '#3b82f6', '#8b5cf6', '#ef4444', '#ec4899'];
                const shapes = ['circle', 'rectangle', 'triangle'];
                const confettiCount = 60;

                // Clear existing confetti
                container.innerHTML = '';

                for (let i = 0; i < confettiCount; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    
                    // Random color
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    
                    // Random shape
                    const shape = shapes[Math.floor(Math.random() * shapes.length)];
                    if (shape === 'triangle') {
                        confetti.classList.add('triangle');
                        confetti.style.borderBottomColor = color;
                        confetti.style.width = '0';
                        confetti.style.height = '0';
                    } else if (shape === 'circle') {
                        confetti.classList.add('circle');
                        confetti.style.backgroundColor = color;
                        confetti.style.width = (Math.random() * 8 + 6) + 'px';
                        confetti.style.height = confetti.style.width;
                    } else {
                        confetti.classList.add('rectangle');
                        confetti.style.backgroundColor = color;
                        confetti.style.width = (Math.random() * 6 + 6) + 'px';
                        confetti.style.height = (Math.random() * 8 + 8) + 'px';
                    }

                    // Random position, animation, and drift
                    confetti.style.left = Math.random() * 100 + '%';
                    const duration = Math.random() * 2 + 2.5; // 2.5-4.5 seconds
                    confetti.style.animationDuration = duration + 's';
                    confetti.style.animationDelay = (Math.random() * 0.5) + 's';
                    const drift = (Math.random() * 100 - 50) + 'px'; // -50px to +50px
                    confetti.style.setProperty('--drift', drift);

                    container.appendChild(confetti);
                }

                // Remove confetti after animation
                setTimeout(() => {
                    container.innerHTML = '';
                }, 6000);
            }

            // Create confetti on page load
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    setTimeout(createConfetti, 300);
                });
            } else {
                setTimeout(createConfetti, 300);
            }

            // Also create on page focus (refresh)
            window.addEventListener('focus', () => {
                setTimeout(createConfetti, 300);
            });
        })();
    </script>
</body>
</html>